install
repo --name=base --mirrorlist http://mirrorlist.centos.org/?release=$releasever&arch=$basearch&repo=os&infra=$infra
repo --name=updates --mirrorlist http://mirrorlist.centos.org/?release=$releasever&arch=$basearch&repo=os&infra=$infra
repo --name=extras --mirrorlist http://mirrorlist.centos.org/?release=$releasever&arch=$basearch&repo=os&infra=$infra
url --mirrorlist http://mirrorlist.centos.org/?release=$releasever&arch=$basearch&repo=os&infra=$infra
url --mirrorlist http://mirrorlist.centos.org/?release=$releasever&arch=$basearch&repo=updates&infra=$infra
url --mirrorlist http://mirrorlist.centos.org/?release=$releasever&arch=$basearch&repo=extras&infra=$infra
eula --agreed

lang en_US.UTF-8
keyboard us
timezone --utc Europe/Amsterdam

network --onboot yes --device eth0 --bootproto dhcp
network  --hostname=centos7
firewall --enabled --service=ssh
services --enabled=chronyd,rdisc

auth --useshadow --enablemd5
authconfig --enableshadow --passalgo=sha512
selinux --enforcing
rootpw --plaintext installer

bootloader --location=mbr --driveorder=sda --append="crashkernel=auto rhgb quiet"

text
skipx
zerombr

clearpart --all --initlabel

part /boot --fstype ext4 --size=512
part pv.01 --size=1 --grow
volgroup vg0 pv.01
logvol /        --vgname=vg0    --size=1        --name=root     --fstype ext4   --grow
logvol swap     --vgname=vg0    --size=512      --name=swap

%packages --nobase --ignoremissing
@core
@base
deltarpm
cloud-init
%end

%post
yum clean all
echo "This template was provided by PCextreme B.V." > /root/.pcextreme
%end

firstboot --disabled
reboot
